<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
  <meta http-equiv="CONTENT-TYPE"
 content="text/html; charset=windows-1252">
  <title>JAX-WS @@IMPL_VERSION@@ @@IMPL_VERSION_SUFFIX@@ -- Samples
Documentation</title>
  <meta name="GENERATOR" content="StarSuite 8  (Win32)">
  <meta name="CREATED" content="20051130;11594900">
  <meta name="CHANGEDBY" content="Rama Pulavarthi">
  <meta name="CHANGED" content="20060426;14003290">
  <meta http-equiv="Content-Language" content="en-us">
  <style>
	<!--
		H1 { color: #000099; font-family: sans-serif; text-align: center }
		H2 { color: #000099; font-family: sans-serif; text-align: center }
		CODE { font-family: "Courier", monospace }
	-->
	</style>
</head>
<body lang="en-US" bgcolor="#ffffff" dir="ltr">
<h1 align="center"><font color="#280099">Java<font size="1"><sup>TM</sup></font>
API for XML Web Services<br>
Samples Documentation</font> </h1>
<p align="center"><b>Specification Version:</b>
@@SPEC_VERSION@@<br>
<b>Reference Implementation (RI) Version:</b>
@@IMPL_VERSION@@ @@IMPL_VERSION_SUFFIX@@</p>
<p>Java APIs for XML Web Services 2.0 is developed as <a
 href="http://jcp.org/en/jsr/detail?id=224">JSR
224</a> under the <a href="http://jcp.org/">Java Community Process</a>
(JCP). This document explains the samples that are bundled along with
the Early Access Standards Implementation of JAX-WS 2.0.</p>

The samples included with JAX-WS that is distributed on Java.net or
as part of JWSDP, documents how to use JAX-WS in a non-Java EE 5 servlet container using a 
proprietary deployment descriptor <code>sun-jaxws.xml</code> and servlet
<code>com.sun.xml.ws.transport.http.servlet.WSServlet</code>.
This means that you can these JAX-WS RI applications in any servlet container that has been
enabled with the JAX-WS RI.  Applications that use the proprietary DD and servlet 
will run in a JAX-WS RI enabled Java EE 5 servlet container, but 
they will be non-portable. If you
wish to use these JAX-WS samples in a Java EE container in a Java EE portable mannor you need to 
modify them to use the
standard Java EE 5 deployment descriptor; please refer to the 
<a href="http://java.sun.com/javaee/index.jsp">Java EE 5</a> or <a href="https://glassfish.dev.java.net/">Glassfish</a> 
documentation/samples.  

<h2><a name="1.0"></a><font color="#280099">1.0 Directory Structure</font></h2>
<p>This section explains the directory structure of the <code>samples</code>
directory in the bundle:</p>
<table width="100%" border="0" cellpadding="2" cellspacing="0">
  <tbody>
    <tr valign="top">
      <td width="15%">
      <p>docs</p>
      </td>
      <td width="85%">
      <p>index.html, this file</p>
      </td>
    </tr>
    <tr valign="top">
      <td>
      <p>fromjava</p>
      </td>
      <td>
      <p>Demonstrates how to build, deploy, and invoke a simple Web
service starting from a Java service endpoint implementation using
annotations.</p>
      </td>
    </tr>
    <tr valign="top">
      <td>
      <p>fromjavahandler&nbsp;</p>
      </td>
      <td>
      <p>Same as <b>fromjava</b> sample but with a simple logging
handler on the client and server.</p>
      </td>
    </tr>
    <tr valign="top">
      <td>
      <p>fromwsdl</p>
      </td>
      <td>
      <p>Demonstrates how to build, deploy, and invoke a simple Web
service starting from a WSDL using external customizations.</p>
      </td>
    </tr>
    <tr valign="top">
      <td>
      <p>fromwsdlhandler&nbsp;</p>
      </td>
      <td>
      <p>Same as <b>fromwsdl</b> sample but with a simple logging
handler on the client and server.</p>
      </td>
    </tr>
    <tr valign="top">
      <td>
      <p>dispatch</p>
      </td>
      <td>
      <p>Demonstrates how to dynamically invoke web service endpoints.</p>
      </td>
    </tr>
    <tr valign="top">
      <td>
      <p>provider</p>
      </td>
      <td>
      <p>Demonstrates how to build, deploy, and invoke <code>javax.xml.ws.Provider</code>
based Web service endpoint.</p>
      </td>
    </tr>
    <tr valign="top">
      <td>
      <p>annotations</p>
      </td>
      <td>
      <p>Same as <b>fromjava</b> but shows how to specify a different
parameter name, operation name, targetNamespace, and other similar
features.</p>
      </td>
    </tr>
    <tr>
      <td>
      <p>async </p>
      </td>
      <td>
      <p>Demonstrates how to generate async operations in a client SEI
from a WSDL and invoke it from the client application. </p>
      </td>
    </tr>
    <tr>
      <td>
      <p>external-customize </p>
      </td>
      <td>
      <p>Demonstrates how a client client application can customize a
published WSDL using external binding&nbsp; file. </p>
      </td>
    </tr>
    <tr>
      <td>
      <p>inline-customize </p>
      </td>
      <td>
      <p>Demonstrates how a client application and server endpoint can
be generated from a WSDL with embedded binding declarations. </p>
      </td>
    </tr>
    <tr>
      <td>
      <p>mtom </p>
      </td>
      <td>
      <p>Demonstrates how to enable MTOM and swaRef. </p>
      </td>
    </tr>
    <tr>
      <td>
      <p>mtom-soap12 </p>
      </td>
      <td>
      <p>Same as <b>mtom</b> sample but shows how to specify SOAP 1.2
binding. </p>
      </td>
    </tr>
    <tr>
      <td>
      <p>fromjava-soap12 </p>
      </td>
      <td>
      <p>Same as <b>fromjava</b> sample but shows how to specify SOAP
1.2 binding. </p>
      </td>
    </tr>
    <tr>
      <td>
      <p>fromwsdl-soap12 </p>
      </td>
      <td>
      <p>Same as <b>fromwsdl</b> sample but shows how to specify SOAP
1.2 binding. </p>
      </td>
    </tr>
    <tr>
      <td>
      <p>supplychain </p>
      </td>
      <td>
      <p>Same as <b>fromjava</b> sample but using JavaBeans as
parameter and return types.<br>
Also the service can be built and deployed using Endpoint API.</p>
      </td>
    </tr>
    <tr>
      <td>
      <p>mime </p>
      </td>
      <td>
      <p>Demonstrates how a MIME binding is defined in the WSDL to send
wsdl:part as MIME attachments. This requires that the development model
is 'starting from WSDL'. </p>
      </td>
    </tr>
    <tr>
      <td>
      <p>wsimport_catalog </p>
      </td>
      <td>
      <p>Demonstrates a how a WSDL and schema URI's can be resolved
using catalog mechanism using wsimport ant tasks' catalog attribute and
also using ant's core type xmlcatalog. </p>
      </td>
    </tr>
    <tr>
      <td>
      <p>catalog </p>
      </td>
      <td>
      <p>Shows the catalog capability on the client side; Catalog is
used every time the implementation tries to access a resource
identified by URI that is believed to contain either a WSDL document or
any other document on which it depends . </p>
      </td>
    </tr>
    <tr>
      <td>
      <p>restful </p>
      </td>
      <td>
      <p>Shows an example of a REST Web Service implemented as a JAX-WS
2.0 Provider and accessed via a JAX-WS Dispatch client. The Request
uses an HTTP GET Request Method and uses the JAX-WS MessageContext
properties PATH_INFO and QUERY_STRING. </p>
      </td>
    </tr>
  </tbody>
</table>
<h2><a name="2.0"></a><font color="#280099">2.0 Prerequisites</font></h2>
<p>Here is the list of prerequisites that needs to be met before any
of the samples can be invoked:</p>
<ol>
  <li>
    <p style="margin-bottom: 0in;">Download Java 2 Standard Edition 5.0
Update 2 or later (J2SE 5.0) from <a
 href="http://java.sun.com/j2se/1.5.0/download.jsp">java.sun.com/j2se/1.5.0/download.jsp</a>.
Set <code>JAVA_HOME</code> to the J2SE 5.0 installation directory. </p>
  </li>
  <li>
    <p style="margin-bottom: 0in;">Download Sun Java System Application
Server Platform Edition 8.1 2005 Q1 UR2 (SJSAS PE 8.1 or Application
Server) or later from <a
 href="http://java.sun.com/j2ee/1.4/download.html">java.sun.com/j2ee/1.4/download.html</a>.
SJSAS PE 8.1 download page has J2EE 1.4 SDK 2005Q1 UR2 available as
All-In-One bundle and SJSJAS PE 8.1 available as separate bundle. Make
sure that you download SJSAS PE 8.1 separate bundle only and use J2SE
5.0 as the J2SE platform for it's installation. Although the download
page requires J2SE 1.4.2 SDK for SJSAS PE 8.1, J2SE 5.0 is required for
JAX-WS 2.0 binaries and must be used as the J2SE platform for SJSAS PE
8.1 for the samples to work. The samples also work with Sun Java System
Application Server PE 8.2. </p>
  </li>
  <li>
    <p style="margin-bottom: 0in;">Make sure that the Application Server is configured for port 8080 as samples hardcoded with this port info. Otherwise, you need to change samples to use the correct port. </p>
  </li>
  <li>
    <p style="margin-bottom: 0in;">If you have installed JAX-WS as part
of JWSDP, make sure the Application Server was selected as the
container when you installed JWSDP and set your PATH to use the version
of Ant installed with JWSDP.</p>
  </li>
  <li>
    <p style="margin-bottom: 0in;">If you have installed a standalone
JAX-WS bundle, </p>
    <ol type="a">
      <li>
        <p style="margin-bottom: 0in;">Set <code>AS_HOME</code> to
point to the Application Server installation directory. </p>
      </li>
      <li>
        <p style="margin-bottom: 0in;">Set <code>JAXWS_HOME</code>
to the JAX-WS installation directory.</p>
      </li>
      <li>
        <p style="margin-bottom: 0in;">Make sure that the Application
Server is not running. </p>
      </li>
      <li>
        <p style="margin-bottom: 0in;">Invoke <code>ANT_HOME/bin/ant
install</code> from the root directory of the JAX-WS 2.0 FCS bundle.
This will install JAX-WS 2.0 bundle on the Application Server referred
by <code>AS_HOME</code> environment variable.</p>
      </li>
      <li>
        <p style="margin-bottom: 0in;">Download Ant 1.6.2 or later from
        <a href="http://ant.apache.org/bindownload.cgi">ant.apache.org</a>
and install it, lets say this is installed in <code>ANT_HOME</code>.
Please note that <code>AS_HOME/bin/asant</code> cannot be used for
building and invoking the samples since JAX-RPC 1.1 implementation is
baked into this version of ant script.&nbsp; </p>
      </li>
    </ol>
  </li>
</ol>
<h2><a name="3.0"></a><font color="#280099">3.0 Invoking the sample</font></h2>
<p>Each sample can be built, deployed and invoked using the
<code>ANT_HOME/bin/ant</code> and <code>build.xml</code> ant script
in the root directory of the sample. Each ant script supports the
following set of targets:</p>
<table width="100%" border="0" cellpadding="2" cellspacing="0">
  <tbody>
    <tr>
      <td width="15%">
      <p>server</p>
      </td>
      <td width="85%">
      <p>Builds and deploy the service endpoint WAR</p>
      </td>
    </tr>
    <tr>
      <td>
      <p>client</p>
      </td>
      <td>
      <p>Builds the client</p>
      </td>
    </tr>
    <tr>
      <td>
      <p>run</p>
      </td>
      <td>
      <p>Runs the client</p>
      </td>
    </tr>
  </tbody>
</table>
<p><br>
Some samples(e.g. fromjava, supplychain) can be built, deployed using
javax.xml.ws.Endpoint API. These samples support extra targets:</p>
<table width="100%" border="0" cellpadding="2" cellspacing="0">
  <tbody>
    <tr>
      <td width="15%">
      <p>server-j2se</p>
      </td>
      <td width="85%">
      <p>Builds and deploys the Endpoint API based service
endpoint(doesn't terminate until server-j2se-stop is called)<br>
      </p>
      </td>
    </tr>
    <tr>
      <td style="vertical-align: top;">server-j2se-stop<br>
      </td>
      <td style="vertical-align: top;">Stops the Endpoint API based
service endpoint(need to run from a different window)<br>
      </td>
    </tr>
  </tbody>
</table>
<p><br>
It is essential for the service endpoint to be deployed on
Application Server before clients can be built because clients use
the WSDL exposed from the service endpoint deployed in the
Application Server. So please make sure that your Application Server
is either running before the <code>server</code> target is invoked or
run it after the <code>server</code> target is invoked. You will have
to wait a few minutes for the Application Server to deploy the
service endpoint correctly before building the client. </p>
<p><font color="#280099"><b>Running Samples with Tomcat:</b></font></p>
<ol>
  <li>
    <p style="margin-bottom: 0in;"><font color="#000000">Set
CATALINA_HOME to your Tomcat installation.</font></p>
  </li>
  <li>
    <p style="margin-bottom: 0in;">Make sure that tomcat is configured for port 8080 as samples hardcoded with this port info. Otherwise, you need to change samples to use the correct port. </p>
  </li>
  <li>
    <p style="margin-bottom: 0in;"><font color="#000000">If you have
installed a standalone JAX-WS bundle, Copy the JAX-WS RI jars and its
dependency jars to ${CATALINA_HOME}/shared/lib.</font></p>
  </li>
  <li>
    <p style="margin-bottom: 0in;"><font color="#000000">Set JAXWS_HOME
to the JAX-WS installation directory.</font></p>
  </li>
  <li>
    <p style="margin-bottom: 0in;"><font color="#000000">Make sure the
Tomcat container is up and running before running sample.</font></p>
  </li>
  <li>
    <p style="margin-bottom: 0in;"><font color="#000000">While running
the ant targets in samples, specify “-Dtomcat=true”. For example: </font>
    </p>
  </li>
</ol>
<p style="margin-left: 0.79in; margin-bottom: 0in;">
<font color="#000000">ant clean server -Dtomcat=true, this will build
the service and deploy the war to ${CATALINA_HOME}/webapps.</font></p>
<p style="margin-left: 0.79in; margin-bottom: 0in;">
<font color="#000000">ant clean client -Dtomcat=true, this would
create client-side artifacts and compiles the files.</font></p>
<p style="margin-left: 0.79in; margin-bottom: 0in;">
<font color="#000000">ant run -Dtomcat=true</font></p>
<p style="margin-left: 0.79in; margin-bottom: 0in;">
<br>
</p>
<p>We appreciate your feedback, please send it to
<a href="mailto:users@jax-ws.dev.java.net">users@jax-ws.dev.java.net</a>.</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
</body>
</html>
