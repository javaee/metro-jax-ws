<html>
<!--

    DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS HEADER.

    Copyright (c) 2010-2011 Oracle and/or its affiliates. All rights reserved.

    The contents of this file are subject to the terms of either the GNU
    General Public License Version 2 only ("GPL") or the Common Development
    and Distribution License("CDDL") (collectively, the "License").  You
    may not use this file except in compliance with the License.  You can
    obtain a copy of the License at
    https://glassfish.dev.java.net/public/CDDL+GPL_1_1.html
    or packager/legal/LICENSE.txt.  See the License for the specific
    language governing permissions and limitations under the License.

    When distributing the software, include this License Header Notice in each
    file and include the License file at packager/legal/LICENSE.txt.

    GPL Classpath Exception:
    Oracle designates this particular file as subject to the "Classpath"
    exception as provided by Oracle in the GPL Version 2 section of the License
    file that accompanied this code.

    Modifications:
    If applicable, add the following below the License Header, with the fields
    enclosed by brackets [] replaced by your own identifying information:
    "Portions Copyright [year] [name of copyright owner]"

    Contributor(s):
    If you wish your version of this file to be governed by only the CDDL or
    only the GPL Version 2, indicate your decision by adding "[Contributor]
    elects to include this software in this distribution under the [CDDL or GPL
    Version 2] license."  If you don't indicate a single choice of license, a
    recipient has the option to distribute your version of this file under
    either the CDDL, the GPL Version 2 or to extend the choice of license to
    its licensees as provided above.  However, if you add GPL Version 2 code
    and therefore, elected the GPL Version 2 license, then the option applies
    only if the new code is made subject to such option by the copyright
    holder.

-->

<head caption="Wsimport Ant Task">
    <link rel="stylesheet" type="text/css" href="style/default.css"/>
</head>

<body>
<content>
<section title="Overview">

    <p>The <code>wsimport</code>
        generates JAX-WS portable artifacts, such as:
        <br>
    </p>
    <ul>
        <li>Service Endpoint Interface (SEI)</li>
        <li>Service</li>
        <li>Exception class mapped from wsdl:fault (if
            any)
        </li>
        <li>Async Reponse Bean derived from response wsdl:message (if any)
        </li>
        <li>JAXB generated value types (mapped java classes from schema types)
        </li>
    </ul>

</section>

<section title="Using Wsimport Task">
 <p>
    To use this wsimport task, a <code>&lt;taskdef&gt;</code> element needs to be
    added to the project as given below:</p>
 <pre class="ant-example">&lt;taskdef name="wsimport" classname="com.sun.tools.ws.ant.WsImport"&gt;<br>&nbsp;&lt;classpath
&nbsp;&nbsp;&nbsp; path="jaxws.classpath"/&gt;<br>&lt;/taskdef&gt;<br></pre>

<p>where <code>jaxws.classpath</code> is a reference to a <a
        href="http://ant.apache.org/manual/using.html#path">path-like structure</a>,
    defined elsewhere in the build environment, and contains the list of
    classes required by the JAX-WS tools.</p>


<pre>&lt;wsimport
    wsdl="..."
    destdir="directory for generated class files"
    sourcedestdir="directory for generated source files"
    keep="true|false"
    encoding="..."
    extension="true|false"
    verbose="true|false"
    wsdlLocation="..."
    clientJar="jar file"
    catalog="catalog file"
    package="package name"
    target="target release"
    binding="..."
    quiet="true|false"
    xadditionalHeaders="true|false"
    xauthfile="authorization file"
    xdebug="true|false"
    xNoAddressingDatabinding="true|false"
    xnocompile="true|false"
    &lt;binding dir="..." includes="..." /&gt;
    &lt;arg value="..."/&gt;
    &lt;xjcarg value="..."/&gt;
    &lt;xmlcatalog refid=&quot;another catalog file&quot;/&gt;
&lt;/wsimport&gt;
</pre>
 <h3>Environment Variables</h3>

      <ul>

        <li>
          <a href="http://wiki.apache.org/ant/TheElementsOfAntStyle">ANT_OPTS</a> - command-line arguments that should be passed to the JVM. For
              example, you can define system properties or set the maximum Java heap
              size here.
        </li>

      </ul>

 <h3>Parameter Attributes</h3>
     <p>
       <code>wsimport</code> supports the following parameter attributes.</p>
 <table border="1" cellpadding="2" cellspacing="2">
    <tbody>
        <tr valign="top">
            <td bgcolor="#ffffbd">
                <p><b>Attribute</b></p></td>
            <td bgcolor="#ffffbd">
                <p><b>Description</b></p></td>
            <td bgcolor="#ffffbd">
                <p><b>Required</b></p></td>
            <td bgcolor="#ffffbd">
                <p><b>Command line</b></p></td>
        </tr>
        <tr valign="top">
            <td>
                <p><code>wsdl</code></p></td>
            <td>
                <p>WSDL file</p></td>
            <td>
                <p>Yes.</p></td>
            <td>
                <p>WSDL location</p></td>
        </tr>
        <tr valign="top">
            <td>
                <p><code>destdir</code></p></td>
            <td>
                <p>Specify where to place output generated classes</p></td>
            <td>
                <p>No. Defaults to current working directory.</p></td>
            <td>
                <p><code>-d</code></p></td>
        </tr>
        <tr valign="top">
            <td>
                <code>sourcedestdir</code>
            </td>
            <td>
                <p>Specify where to place generated source code files, keep is turned
                    on with this option
                </p>
            </td>
            <td>
                <p>No. Defaults to current working directory.</p></td>
            <td>
                <p><code>-s</code></p></td>
        </tr>
        <tr valign="top">
            <td>
                <code>encoding</code>
            </td>
            <td>
                <p>Set the encoding name for generated sources, such as UTF-8</p>
            </td>
            <td>
                <p>No. Defaults to platform default.</p></td>
            <td>
                <p><code>-encoding</code></p></td>
        </tr>
        <tr valign="top">
            <td>
                <p><code>keep</code></p></td>
            <td>
                <p>Keep generated source code files, turned on with sourcedestdir option<br>
                </p>
            </td>
            <td>
                <p>No. Defaults to false.</p></td>
            <td>
                <p><code>-keep</code></p></td>
        </tr>
        <tr valign="top">
            <td>
                <p><code>verbose</code></p></td>
            <td>
                <p>Output messages about what the compiler is doing</p></td>
            <td>
                <p>No. Defaults to false.</p></td>
            <td>
                <p><code>-verbose</code></p></td>
        </tr>
        <tr valign="top">
            <td>
                <p><code>binding</code></p></td>
            <td>
                <p>Specify external JAX-WS or JAXB binding files or additional schema files (Each <code>
                    &lt;file&gt;</code>
                    must have its own <code>-b</code>)</p></td>
            <td>
                <p>No. No defaults.</p></td>
            <td>
                <p><code>-b</code></p></td>
        </tr>
       <tr valign="top">
            <td>
                <p><code>extension<br>
                </code></p>
            </td>
            <td>
                <p>allow vendor extensions (functionality not specified by the
                    specification). Use of extensions may result in applications that are
                    not portable or may not interoperate with other implementations<br>
                </p>
            </td>
            <td>
                <p>No. Defaults to false.</p></td>
            <td>
                <p><code>-extension</code></p></td>
        </tr>
        <tr valign="top">
            <td><code>wsdllocation</code><br>
            </td>
            <td>The wsdl URI passed thru this
                option will be used to set the value of <code>@WebService.wsdlLocation</code>
                and <code>@WebServiceClient.wsdlLocation</code> annotation elements
                on the generated SEI
                and Service interface<br>
            </td>
            <td>
                <p>No. Defaults to the wsdl URL passed to wsdl attribute.</p></td>

            <td><code>-wsdllocation</code><br>
            </td>
        </tr>
        <tr valign="top">
            <td><code>clientJar</code><br>
            </td>
            <td>Creates the jar file of the generated artifacts along with the WSDL metadata required for invoking the web service.<br>
            </td>
            <td>
                <p>No.</p></td>

            <td><code>-clientJar</code><br>
            </td>
        </tr>
        <tr valign="top">
            <td><code>catalog</code><br>
            </td>
            <td>Specify catalog file to resolve
                external entity references, it supports TR9401, XCatalog, and OASIS XML
                Catalog format. Additionally, ant xmlcatalog type can be used to
                resolve entities, see <b>catalog</b> sample and
                <a href="catalog-support.html">documentation on catalog</a>.<br>
            </td>
            <td>
                <p>No. No defaults.</p></td>

            <td>
                <catalog><code>-catalog</code></catalog>
                <br>
            </td>
        </tr>
        <tr valign="top">
            <td><code>package</code><br>
            </td>
            <td>Specifies the target package</td>
            <td>
                <p>No. It default to the WSDL/Schema targetNamespace to package mapping as defined by the JAXB 2.1 spec.</p></td>
            <td><code>-p</code><br>
            </td>
        </tr>
        <tr valign="top">
            <td><code>target</code></td>
            <td>Generate code as per the given JAXWS
                specification version. For example, 2.0 value generates compliant code for JAXWS 2.0 spec.
            </td>
            <td>
                <p>No. Defaults to 2.2.</p></td>
            <td><code>-target</code></td>
        </tr>
        <tr valign="top">
            <td><code>quiet</code></td>
            <td>Suppress wsimport output</td>
            <td>
                <p>No. Defaults to false.</p></td>
            <td><code>-quiet</code></td>
        </tr>
        <tr valign="top">
            <td><code>xadditionalHeaders</code></td>
            <td>Map headers not bound to request or response message to Java method parameterst</td>
            <td>
                <p>No. Defaults to false.</p></td>
            <td><code>-XadditionalHeaders</code></td>
        </tr>
        <tr valign="top">
            <td><code>xauthfile</code></td>
            <td>File to carry authorization information in the format http://username:password@example.org/stock?wsdl.</td>
            <td>
                <p>No. Defaults to $HOME/.metro/auth.</p></td>
            <td><code>-Xauthfile</code></td>
        </tr>
        <tr valign="top">
            <td><code>xdebug</code></td>
            <td>Print debug information</td>
            <td>
                <p>No. Defaults to false.</p></td>
            <td><code>-quiet</code></td>
        </tr>
        <tr valign="top">
            <td><code>xNoAddressingDatabinding</code></td>
            <td>Enable binding of W3C EndpointReferenceType to Java</td>
            <td>
                <p>No. Defaults to false.</p></td>
            <td><code>-quiet</code></td>
        </tr>
        <tr valign="top">
            <td><code>xnocompile</code></td>
            <td>Do not compile generated Java files</td>
            <td>
                <p>No. Defaults to false.</p></td>
            <td><code>-Xnocompile</code></td>
        </tr>

    </tbody>
</table>
 <h3>Nested Elements</h3>

 <div class="nested-elements">
     <p>
         <code>wsimport</code> supports the following nested element parameters.
     <h4>binding</h4>

     <p>To specify more than one external binding file at the same time, use a
         nested
         <code>&lt;binding&gt;</code> element, which has the same syntax as

         <a href="http://jakarta.apache.org/ant/manual/CoreTypes/fileset.html">

             <code>
                 &lt;fileset&gt;</code>
         </a>.
     </p>
     <h4>arg</h4>

     <p>Additional command line arguments passed to the <code>wsimport</code>. For details
         about the syntax, see

         <a href="http://ant.apache.org/manual/using.html#arg">the relevant
             section</a> in the Ant manual. This nested element can be used to
         specify various options not natively supported in the
         <tt>wsimport</tt>
         Ant task. For example, currently
         there is no native support for
         the following
         <tt>wsimport</tt> command-line options:

     </p>
     <ul>

         <li>
             <tt>-XdisableSSLHostnameVerification</tt>

         </li>
     </ul>
     This nested element can be used to pass the -X command-line options directly like "-XadditionalHeaders". To use any of these features from the
         <tt>wsimport&gt;</tt> Ant task, you
         must specify the appropriate nested &lt;
         <tt>arg</tt>&gt; elements.

     <h4>xjcarg</h4>
     <p>The usage is similar to &arg> nested element, except that these arguments are directly passed to the XJC tool (JAXB Schema Compiler), which will be used for compiling the schema referenced in the wsdl.
        For details about the syntax, see
         <a href="http://ant.apache.org/manual/using.html#arg">the relevant section</a> in the Ant manual.
     </p>

     <h4>xmlcatalog</h4>
	  <p>The <a href="http://ant.apache.org/manual/CoreTypes/xmlcatalog.html">xmlcatalog</a> element is used to resolve entities when parsing schema documents.</p>
     </div>
</section>

<section title="Running on JDK 6">
    <p><b>To run on JDK 6 follow these <a href="jaxws-tools.html#running_on_jdk6">instructions</a>.</b></p>
</section>

<section title="Examples">
<pre>&lt;wsimport&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp; destdir=&quot;${build.classes.home}"
&nbsp;&nbsp;&nbsp;&nbsp; debug="true"
&nbsp;&nbsp;&nbsp;&nbsp; wsdl="AddNumbers.wsdl"
&nbsp;&nbsp;&nbsp;&nbsp; binding="custom.xml"/&gt;</pre>
    <p>The above example generates client-side artifacts for <code>AddNumbers.wsdl</code>,
        stores <code>.class</code> files in the <code>${build.classes.home}</code>
        directory using the <code>custom.xml</code> customization file. The
        classpath used is <code>xyz.jar</code> and compiles with debug
        information on.</p><pre>&lt;wsimport
	keep="true"
	sourcedestdir="${source.dir}"
	destdir="${build.classes.home}"
	extension=&quot;true&quot;
	wsdl="AddNumbers.wsdl"&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;xjcarg value=&quot;-cp&quot;/&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;xjcarg file=&quot;path/to/fluent-api.jar&quot; /&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;xjcarg value=&quot;-Xfluent-api&quot;/&gt;
&lt;/wsimport&gt;</pre>
    <p>The above example shows how to generates artifacts for <code>AddNumbers.wsdl</code>
        while passing options to JAXB xjc tool for XML Schema to Java compilation using your JAXB plugin.
        Note extension attribute which is set to true. You need to set this to use JAXB
        plugins.</p>

    <p>Multiple JAX-WS and JAXB binding files can be specified using <code>-b</code>
        option and they can be used to customize various things like package
        names, bean names, etc. More information on JAX-WS and JAXB binding
        files can be found in the <a href="customizations.html">customization
        documentation</a>.</p>
</section>
</body>
</html>
